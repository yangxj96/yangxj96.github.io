import{u as S}from"../UseTable/UseTable.SqMQ832M.js";import{i as b}from"../../assets/index-zr023Hs_.js";import{u as R}from"../vue-router/vue-router.K23cJQPm.js";import{R as B}from"../RoleApi/RoleApi.99PXwb9Y.js";import{b as P}from"../element-plus/element-plus.qvdORcwZ.js";import{d as A,b as U,Z as $,i as E,ah as n,o as N,c as O,T as e,O as t,S as m,R as q,u as s}from"../@vue/@vue.I-RMNdSZ.js";import"../pinia/pinia.RTuYtbS_.js";import"../vue-demi/vue-demi.C4xddsk9.js";import"../axios/axios.QLjAsgXu.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.YzE7ESjF.js";import"//at.alicdn.com/t/c/font_3119163_oqg12xgkssd.js";import"../lodash-es/lodash-es.L7yb-_UW.js";import"../@element-plus/@element-plus.jJRl1ily.js";import"../@popperjs/@popperjs.-N-3kK7X.js";import"../@ctrl/@ctrl.ZggoHSuR.js";import"../dayjs/dayjs.nXyUZ0Ym.js";import"../async-validator/async-validator.BHjhHa7C.js";import"../memoize-one/memoize-one.JaOscZgY.js";import"../normalize-wheel-es/normalize-wheel-es.1urBKM79.js";import"../@floating-ui/@floating-ui.27iaWG4d.js";class w{static formatting(o,d="yyyy-MM-dd HH:mm:ss"){const g={yyyy:o.getFullYear(),M:o.getMonth()+1,d:o.getDate(),H:o.getHours(),m:o.getMinutes(),s:o.getSeconds(),MM:(""+(o.getMonth()+101)).substring(1),dd:(""+(o.getDate()+100)).substring(1),HH:(""+(o.getHours()+100)).substring(1),mm:(""+(o.getMinutes()+100)).substring(1),ss:(""+(o.getSeconds()+100)).substring(1)};return d.replace(/(yyyy|MM?|dd?|HH?|mm?|ss?)/g,function(_,...c){return g[c[0]]})}}const F={style:{height:"100%"}},ue=A({__name:"index",setup(M){const{pagination:o,handleCurrentChange:d,handleSizeChange:g}=S(B.page),_=R(),c=U([]),p=$({company_name:"",enable:!0});E(()=>{for(let a=0;a<14;a++){let i={id:1e10+a,company_name:"云南XXX有限公司",admin:{user_id:1111111111111,username:`用户名${a+1}`},contact:"131xxxx2222",address:"云南省昆明市西山区XXX街道XX大厦XX栋XX层1111",modules:"基础模块,OA协同,审核模块",created_time:w.formatting(new Date,"yyyy-MM-dd"),expiration_time:w.formatting(new Date,"yyyy-MM-dd"),remaining_time:Math.round(Math.random()*10)+a};c.value.push(i)}});function x(a){P.confirm(`是否冻结[${a.company_name}]`,"冻结租户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("ok")}).catch(()=>{console.log("点击取消")})}function C(){_.push({path:"/Account/Tenant/Register"})}function v(a){_.push({path:"/Account/Tenant/Details",query:{id:a}})}return(a,i)=>{const k=n("el-input"),f=n("el-form-item"),y=n("el-option"),X=n("el-select"),u=n("el-button"),H=n("el-button-group"),D=n("el-form"),h=n("el-row"),l=n("el-table-column"),T=n("el-table"),V=n("el-pagination");return N(),O("div",F,[e(h,{style:{height:"50px"}},{default:t(()=>[e(D,{inline:!0,model:p},{default:t(()=>[e(f,{label:"公司名称"},{default:t(()=>[e(k,{modelValue:p.company_name,"onUpdate:modelValue":i[0]||(i[0]=r=>p.company_name=r),placeholder:"请输入公司名称",clearable:!0},null,8,["modelValue"])]),_:1}),e(f,{label:"冻结状态"},{default:t(()=>[e(X,{modelValue:p.enable,"onUpdate:modelValue":i[1]||(i[1]=r=>p.enable=r),placeholder:"请选择冻结状态",clearable:!0},{default:t(()=>[e(y,{label:"正常",value:!0}),e(y,{label:"冻结",value:!1})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:t(()=>[e(H,null,{default:t(()=>[e(u,{type:"primary"},{default:t(()=>[e(b,{name:"icon-search"}),m("  查询 ")]),_:1}),e(u,{type:"primary",onClick:C},{default:t(()=>[e(b,{name:"icon-add"}),m("  注册 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(h,{style:{height:"calc(100% - 100px)"}},{default:t(()=>[e(T,{data:c.value,"highlight-current-row":"",stripe:"",border:"",height:"100%",style:{width:"100%"}},{default:t(()=>[e(l,{label:"租户编号",prop:"id",width:"140",align:"center","show-overflow-tooltip":!0}),e(l,{label:"公司名称",prop:"company_name",align:"center","show-overflow-tooltip":!0}),e(l,{label:"管理账号",align:"center"},{default:t(r=>[e(u,{type:"primary",link:""},{default:t(()=>[m(q(r.row.admin.username),1)]),_:2},1024)]),_:1}),e(l,{label:"联系方式",prop:"contact",align:"center",width:"120"}),e(l,{label:"公司地址",prop:"address",align:"center","show-overflow-tooltip":!0}),e(l,{label:"已购模块",prop:"modules",align:"center","show-overflow-tooltip":!0}),e(l,{label:"创建时间",prop:"created_time",align:"center"}),e(l,{label:"到期时间",prop:"expiration_time",align:"center"}),e(l,{label:"剩余时间",prop:"remaining_time",align:"center"}),e(l,{label:"操作",width:"150"},{default:t(r=>[e(u,{link:"",type:"primary",onClick:z=>x(r.row)},{default:t(()=>[m("冻结")]),_:2},1032,["onClick"]),e(u,{link:"",type:"primary",onClick:z=>v(r.row.id)},{default:t(()=>[m("详情")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(h,{style:{float:"right",height:"50px"}},{default:t(()=>[e(V,{currentPage:s(o).page,"onUpdate:currentPage":i[2]||(i[2]=r=>s(o).page=r),"hide-on-single-page":"",background:"","page-sizes":s(o).page_sizes,layout:"sizes,prev, pager, next",total:s(o).total,onSizeChange:s(g),onCurrentChange:s(d)},null,8,["currentPage","page-sizes","total","onSizeChange","onCurrentChange"])]),_:1})])}}});export{ue as default};
